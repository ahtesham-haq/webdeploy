name: Deploy Application

on:
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: windows-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up deployment directory
        run: |
          echo "Changing to deployment directory..."
          cd 'D:\Ahtesham ul haq\Projects\Learning\Github\webdeploy\WebApplicationMy'
          echo "Current directory:"
          cd  # Print current directory
          echo "Files in the deployment directory:"
          dir  # List directory contents

      - name: Deploy code
        run: |
          echo "Deploying code..."
          # Add your deployment commands here, for example, copy files or run scripts
          # Example: Copy files from the repository to the deployment directory
          Copy-Item -Path .\* -Destination 'D:\Ahtesham ul haq\Projects\Learning\Github\webdeploy\WebApplicationMy' -Recurse -Force
          
      - name: Confirm deployment
        run: |
          echo "Deployment complete."
          cd 'D:\Ahtesham ul haq\Projects\Learning\Github\webdeploy\WebApplicationMy'
          dir  # List directory contents to confirm files are copied
